# Clock

Create a timer that ticks every second. This is the time source.
  #system/timer = [resolution: 1000, tick: 0, hours: 2, minutes: 32, seconds: 47]

Set up a clock hands table. Degrees is the deflection from noon.
  #clock-hands = [|degrees x y stroke    |
                   0       0 0 "#023963" 
                   0       0 0 "#023963" 
                   0       0 0 "#ce0b46" ]

Calculate clock hand angles every time the clock ticks.
  #clock-hands.degrees := [30 6 6]' * [#system/timer.hours{1, 3:5}]'
  
Calculate x and y endpoints
  degrees = #clock-hands.degrees
  #clock-hands.x := 150 + (75 * math/sin(degrees))
  #clock-hands.y := 150 - (75 * math/cos(degrees))
  
Set up clock drawing elements
  #clock-hands[x y stroke]
  clock = [|shape    cx  cy  radius x y stroke fill     |
            "circle" 150 150 100    _ _ _      "#0B79CE"
            "line"   150 150 _      x y stroke _        ]
  #html/canvas = [width: 300 height: 300 contains: [clock]]